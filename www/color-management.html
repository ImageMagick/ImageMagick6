

<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Title and Description -->
  <title>ImageMagick: Legacy | Color Management</title>
  <meta name="description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />

  <!-- Canonical URL -->
  <link rel="canonical" href="color-management.html" />

  <!-- Robots -->
  <meta name="robots" content="index, follow" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#000000" />

  <!-- Verification Tags -->
  <meta name="google-site-verification" content="_bMOCDpkx9ZAzBwb2kF3PRHbfUUdFj2uO8Jd1AXArz4" />

  <!-- Favicon and Apple Icon -->
  <link rel="shortcut icon" href="../images/wand.png" type="images/png" />
  <link rel="apple-touch-icon" href="../images/wand.png" type="images/png" />

  <!-- Preconnect for External Resources -->
  <link rel="preconnect" href="../index.html" />

  <!-- Stylesheets -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" as="style" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" />

  <!-- Accessibility Enhancement -->
  <style>
    html {
      scroll-padding-top: 70px;
    }
    a.nav-link:hover,
    a.dropdown-item:hover {
      color: #ffc107 !important;
      text-shadow: 0px 2px 4px rgba(255, 193, 7, 0.8);
    }
    .btn-outline-warning {
      color: #cd7f32;
      border-color: #cd7f32;
    }
    .navbar-brand {
      color: #d4af37;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    .navbar-brand:hover {
      color: #e9c03d;
      text-shadow: 0px 2px 4px rgba(203, 163, 120, 0.6);
    }
  </style>

  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="ImageMagick: Legacy | Color Management" />
  <meta property="og:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta property="og:image" content="https://imagemagick.org/images/logo.png" />
  <meta property="og:logo" content="https://imagemagick.org/images/logo.png" />
  <meta property="og:url" content="../www/color-management.html" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="ImageMagick: Legacy" />
  <meta property="og:locale" content="en_us" />

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@imagemagick: legacy" />
  <meta name="twitter:creator" content="@imagemagick: legacy" />
  <meta name="twitter:title" content="ImageMagick: Legacy | Color Management" />
  <meta name="twitter:description" content="ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers." />
  <meta name="twitter:image" content="https://imagemagick.org/images/logo.png" />
  <meta name="twitter:image:alt" content="ImageMagick: Legacy logo and tag line" />

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "ImageMagick: Legacy",
    "url": "../www/color-management.html",
    "image": "https://imagemagick.org/images/logo.png",
    "description": "ImageMagick is a powerful open-source software suite for creating, editing, converting, and manipulating images in over 200 formats. Ideal for developers, designers, and researchers.",
    "applicationCategory": "Multimedia",
    "operatingSystem": "Windows, macOS, Linux, Unix",
    "softwareVersion": "6.9.13-29",
    "license": "https://imagemagick.org/www/license.html",
    "creator": {
      "@type": "Organization",
      "name": "ImageMagick Studio LLC",
      "url": "https://imagemagick.org"
    },
    "keywords": [
      "Color Management",
      "image processing software",
      "image conversion tool",
      "batch image editing",
      "open-source image editor",
      "ImageMagick command-line",
      "resize images ImageMagick",
      "crop and rotate images",
      "ImageMagick tutorial",
      "ImageMagick automation",
      "ImageMagick for developers",
      "ImageMagick CLI",
      "ImageMagick filters and effects",
      "ImageMagick scripting",
      "ImageMagick API integration"
    ],
    "sameAs": [
      "https://github.com/ImageMagick6",
      "https://x.com/imagemagick"
    ],
    "offers": {
      "@type": "Offer",
      "price": "0.00",
      "priceCurrency": "USD"
    }
  }
  </script>
  <!-- Google Custom Search -->
</head>
<body>
  <script>
    function setTheme(theme) {
      localStorage.setItem('theme', theme);
      updateThemeIcon(theme);
      document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? getSystemTheme() : theme);
    }
    function getSystemTheme() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }
    function updateThemeIcon(theme) {
      const iconMap = {
        light: '‚òÄÔ∏è',
        dark: 'üåô',
        auto: 'üåì'
      };
      document.getElementById('currentThemeIcon').textContent = iconMap[theme] || 'üåì';
    }
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'auto';
      setTheme(savedTheme);
    });
  </script>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="../index.html" title="$meta->sitename;">
      ImageMagick: Legacy    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#magick-navbars" aria-controls="magick-navbars" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="magick-navbars">
      <ul class="navbar-nav me-auto">
        <li class="nav-item">
          <a class="nav-link " href="download.html">Download</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-tools.html">Tools</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="command-line-processing.html">CLI</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="develop.html">Develop</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" rel="noopener noreferrer" target="_blank" href="https://github.com/ImageMagick/ImageMagick/discussions">Community</a>
        </li>
        <li class="nav-item ms-4">
          <iframe src="https://github.com/sponsors/ImageMagick/button" title="Sponsor ImageMagick" height="35" width="107" style="border: 0;"></iframe>
        </li>
      </ul>
      <ul class="navbar-nav ms-auto">
        <li class="nav-item ms-3">
          <form class="d-flex form-inline" action="https://legacy.imagemagick.org/script/search.php">
            <input class="form-control me-2" type="text" name="q" placeholder="Search site..." aria-label="Search">
            <button class="btn btn-outline-warning" type="submit" name="sa">Search</button>
          </form>
        </li>
        <li class="nav-item dropdown ms-3">
          <a class="nav-link dropdown-toggle" href="#" id="themeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <span id="currentThemeIcon">üåì</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="themeDropdown">
            <li><a class="dropdown-item" href="#" onclick="setTheme('light')">‚òÄÔ∏è Light</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('dark')">üåô Dark</a></li>
            <li><a class="dropdown-item" href="#" onclick="setTheme('auto')">üåì Auto</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
  </nav>

<div class="col-lg-8 mx-auto text-body-secondary pt-5 pt-lg-5">
  <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
    <div class="mt-3 ms-3">
      <a href="../index.html" class="text-decoration-none">
        <h1 class="fs-2 mb-1">Color Management</h1>
      </a>
      <h2 class="fs-5 text-muted">ImageMagick: Legacy</h2>
    </div>
  </header>

  <main role="main" class="container">
<div>
<h1 class="text-center">Accurate Color Management</h1>
<p class="lead">Due to the standardization of sRGB on the Internet, most image formats use SRGB as the default working color space.  If the color space of an image is unknown and it is an 8- to 16-bit image format, assuming it is in the sRGB color space is a safe choice.  This extends to grayscale as well.  We assume non-linear grayscale. These assumptions are overridden if a particular image format includes color space and / or gamma metadata.  ImageMagick assumes linear color if the color space is RGB instead of sRGB.  You can also override the default color space assumptions with color profiles or the <a href="command-line-processing.html#set">-set</a> option.</p>

<p>ImageMagick supports color profiles, however, for images without a profile or a declaration of colorspace, ImageMagick assumes non-linear sRGB.  Most image processing algorithms assume a linear colorspace, therefore it might be prudent to convert to linear color or remove the gamma function before certain image processing algorithms are applied. For example,</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.jpg -colorspace RGB -resize 200% -colorspace sRGB mybigimage.jpg</code></pre>

<p>To declare that an image is linear RGB rather than sRGB, you can use the set option:</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -set colorspace RGB myRGBimage.png</code></pre>

<p>Note that declaring an image as linear is not the same as converting the image to linear. Declaring it is linear only sets the meta data and does not change the pixel data. Whereas converting to linear actually changes the pixel data as described in more detail below.</p>

<p>Afterwards, the verbose information for the output file lists the colorspace as RGB. This only works on image types containing meta data that distinguishes between linear RGB and non-linear sRGB, such as PNG and GIF. Therefore, if the above command is run with a JPG or TIF output format, the verbose information for the colorspace still shows sRGB. In order to properly have the JPG output know that it is linear RGB, include an appropriate color profile.</p>


<p>By default, converting color images to grayscale returns non-linear gray.  To instead convert to linear gray, use the <a href="command-line-processing.html#set">-set</a> or <a href="command-line-processing.html#intensity">-intensity</a
> or <a href="command-line-processing.html#grayscale">-grayscale</a> options:</p>

<pre class="bg-light text-dark mx-4"><code>
convert myimage.png -colorspace LinearGray myRGBimage.png
convert myimage.png -colorspace RGB -colorspace Gray myRGBimage.png
convert myimage.png -intensity Rec709luminance -colorspace gray myRGBimage.png
convert myimage.png -grayscale Rec709luminance myRGBimage.png
</code></pre>

<p>Note that LinearGray is new as of Imagemagick 6.9.9-29 and 7.0.7-17.</p>

<p>The same concept is needed when separating channels.  Normally, the conversion to separate each channel of an sRGB color image produces separate non-linear grayscale images. However the same concept can be applied, if it is desired to keep the separate channels as linear grayscale. For example, the following produces linear grayscale channels.</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -colorspace RGB -separate myimage_channels_%d.png</code></pre>

<p>When separating and recombining channels, with potential intermediate processing, it is important to identify the colorspace used, especially during the recombination. For example,</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -separate myimage_channels_%d.png
convert myimage_channels_*.png -combine myimage2.png</code></pre>

<p>In the above example, the separated channels are non-linear and the default for <code>-combine</code> is to assume non-linear channels. So the result is the same as the input.</p>

If one desires to separate to linear grayscale channels, recombine them later back to non-linear color, perhaps after some processing, then use the same concept as above for maintaining linear grayscale:</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -set colorspace RGB -separate myimage_channels_%d.png
convert myimage_channels_*.png -set colorspace RGB -combine -colorspace sRGB myimage2.png</code></pre>

<p>When converting to another colorspace and back, such as between sRGB and HSL, the following two commands handle the first case of non-linear channels and the second case of linear channels:</p>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -colorspace HSL -separate myimage_channels_%d.png
convert myimage_channels_*.png -set colorspace HSL -combine -colorspace sRGB myimage2.png</code></pre>

<pre class="bg-light text-dark mx-4"><code>convert myimage.png -set colorspace RGB -colorspace HSL -separate myimage_channels_%d.png
convert myimage_channels_*.png -set colorspace HSL -combine -colorspace RGB -set colorspace sRGB myimage2.png</code></pre>

<p>A majority of the image formats assume an sRGB colorspace (e.g. JPEG, PNG, etc.). A few support only linear RGB (e.g. EXR, DPX, CIN, HDR) or only linear GRAY. A few formats support CMYK. For example JPG does, but PNG does not. Then there is the occasional format that also supports LAB (that is CieLAB) (e.g. TIFF, PSD, JPG, JP2). For additional information, see the <a href="formats.html#colorspace" >Colorspace</a> and <a href="formats.html#supported" >Supported Formats</a> pages.</p>

<p>When specifying individual colors as <code>rgb(...)</code> or hex, these colors will still be interpreted as non-linear, that is, as sRGB colors. However if one wants to create linear colors, use <code>icc-color(rgb,r,g,b)"</code>, where <code>r</code>, <code>g</code>, and <code>b</code> are in the range 0 to 1. See the <a href="https://imagemagick.org/www/color.html" >Color</a> page.</p>

</div>
    <a aria-label="About ImageMagick" class="btn btn-outline-warning mt-3" href="../index.html">About ImageMagick</a>
  </main><!-- /.container -->
  <footer class="text-center pt-5 my-5 text-body-secondary border-top">
    <div class="container-fluid">
      <a href="security-policy.html">Security</a> ‚Ä¢
      <a href="../www/news.html">News</a>
     
      <a href="#"><img class="d-inline" id="wand" alt="And Now a Touch of Magick" width="16" height="16" src="../images/wand.ico" /></a>
     
      <a href="../www/links.html">Related</a> ‚Ä¢
      <a href="../www/sitemap.html">Sitemap</a>
   <br>
     <a href="support.html">Sponsor</a> ‚Ä¢
     <a href="../www/cite.html">Cite</a> ‚Ä¢
     <a href="http://pgp.mit.edu/pks/lookup?op=get&amp;search=0x89AB63D48277377A">Public Key</a> ‚Ä¢
     <a href="../www/https://legacy.imagemagick.org/script/contact.php">Contact Us</a>
   <br>
     <a href="https://github.com/imagemagick/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 512 499.36" width="2%" height="2%" role="img" focusable="false"><title>GitHub</title><path fill="currentColor" fill-rule="evenodd" d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"/></svg></a> ‚Ä¢
     <a href="https://twitter.com/imagemagick" rel="noopener noreferrer" target="_blank" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="navbar-nav-svg" viewBox="0 0 300 300" width="2%" height="2%" role="img" focusable="false"><title>Twitter</title><path d="M178.57 127.15 290.27 0h-26.46l-97.03 110.38L89.34 0H0l117.13 166.93L0 300.25h26.46l102.4-116.59 81.8 116.59h89.34M36.01 19.54H76.66l187.13 262.13h-40.66"/></svg></a>
    <br>
    <small>Copyright ¬© 1999 ImageMagick Studio LLC</small>
    </div>
  </footer>
</div>

  <!-- Javascript assets -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  </body>
</html>
